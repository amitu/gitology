<p><div style="clear:both;"></div>While random readings I came across this <a href="http://www-128.ibm.com/developerworks/library/l-keyc3/">gem</a>:<br /><blockquote><p> The <code>ps</code> pipeline also contains a true <code>grep</code> gem, which was kindly sent to me by Hans Peter Verne. Notice that <code>grep -v grep</code> is no longer part of the pipeline; instead, it has been removed and <code>grep "ssh-agent"</code> has been changed to <code>grep "[s]sh-agent"</code>.  This single <code>grep</code> command ends up doing the same thing as <code>grep ssh-agent | grep -v grep</code>; can you figure out why? </p><a name="code10"><b>Listing 10. Neat grep trick</b></a><br /><table bgcolor="#eeeeee" border="1" cellpadding="5" cellspacing="0" width="100%"><tbody><tr><td><pre><code class="section"><br />mypids=`ps $psopts 2>/dev/null | grep "[s]sh-agent" | awk '{print $2}'` > /dev/null 2>&amp;1<br /></code></pre></td></tr></tbody></table>Stumped?  If you've decided that a <code>grep "ssh-agent"</code> and <code>grep "[s]sh-agent"</code> should match the exact same lines of text, you are correct.  So why do they generate different results when the output of <code>ps</code> is piped to them?  Here's how it works: when you use <code>grep "[s]sh-agent"</code>, you change how the <code>grep</code> command appears in the <code>ps</code> process list. By doing so, you prevent <code>grep</code> from matching itself, since the <code>[s]sh-agent</code> string doesn't match the <code>[s]sh-agent</code> regular expression.  Isn't that brilliant?  If you still don't get it, play around with <code>grep</code> a bit more and you'll get it soon enough.   </blockquote><div style="clear:both; padding-bottom: 0.25em;"></div></p>