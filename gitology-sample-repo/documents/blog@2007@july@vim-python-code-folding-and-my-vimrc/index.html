<p>If you were curios about the &quot;# {{{&quot; and &quot;# }}}&quot; in <a href="../../../../blog/2007/july/django-extending-user-model/" target="_blank">my previous post about extending django user model</a>, they are code folding markers. Getting code folding right in vim took me some time and learning, so here I am documenting the takeaways. Code folding, hiding parts of code that you are not working on, is really cool and helpful, and once you start using it, you can not live without it. Here is how to do it in vim. </p><p><strong>Pick The Fold Method</strong>&nbsp;</p><p>First of all, you have to decide the method for code folding. Vim offers many methods. First is manual, which is basic, you can fold any piece of text at your whim. This might be good for one off or free form texts. Then comes markers. This is my preferred approach for folding as it can be fairly arbitrary, and it can be preserved in version control and gets shared with multiple developers. Then there is folding by indentation, and language syntax. Both these will let you quickly fold things if you have not manually handpicked folding markers.&nbsp;</p><p><strong>Learn The Keys</strong>&nbsp;</p><p>Once the method has been decided, then comes the commands, here is a short list:</p><ul><li><strong>zf</strong> create the fold, useful for manual and marker methods. Select any piece of text, [press v or shift-v, then use arrow keys], and then press <strong>zf</strong>. It will place the markers around the fold for you in marker mode; in case of manual, it will store fold location in memory. Remember f by saying this command &quot;forms&quot; the fold, or just remember fold :-) </li><li><strong>zc</strong> close the fold at the cursor. <br /></li><li><strong>zo</strong> open the fold at the cursor.</li><li><strong>zr</strong>&nbsp; increment the fold level by one, so if all classes are folded, they will opened, but function definitions will be kept folded. <br /></li><li><strong>zm</strong> reverse of the above, if one or more function folds are open, they will be closed, but classes will be kept open. <br /></li><li><strong>zR</strong> open all folds.</li><li><strong>zM</strong> close all folds.</li><li><strong>zj</strong> and <strong>zk</strong> can be used to jump from one fold to another.&nbsp; </li></ul><p>Thats it, that is all you need to know about folding in vim, all commands start with z so they are easy to remember. Z represents a piece of folded paper. From my experience you will be only using zf, zo, zc, zj and zk, and these key combinations have been selected quite wisely to make it easy to remember.&nbsp; </p><p><strong>Configure Things</strong></p><p>Here is my complete vimrc file, optimized for python source editing:</p><blockquote><p><font color="#0000ff">&quot; enter spaces when tab is pressed:</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">expandtab</font><br /><font color="#0000ff">&quot; do not break lines when line lenght increases</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">textwidth</font>=0<br /><font color="#0000ff">&quot; user 4 spaces to represent a tab</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">tabstop</font>=4<br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">softtabstop</font>=4<br /><font color="#0000ff">&quot; number of space to use for auto indent</font><br /><font color="#0000ff">&quot; you can use &gt;&gt; or &lt;&lt; keys to indent current line or selection</font><br /><font color="#0000ff">&quot; in normal mode.</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">shiftwidth</font>=4<br /><font color="#0000ff">&quot; Copy indent from current line when starting a new line.</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">autoindent</font><br /><font color="#0000ff">&quot; makes backspace key more powerful. </font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">backspace</font>=indent<font color="#804040"><strong>,</strong></font>eol<font color="#804040"><strong>,</strong></font>start<br /><font color="#0000ff">&quot; shows the match while typing</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">incsearch</font><br /><font color="#0000ff">&quot; case insensitive search</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">ignorecase</font><br /><font color="#0000ff">&quot; show line and column number</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">ruler</font><br /><font color="#0000ff">&quot; show some autocomplete options in status bar</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">wildmenu</font><br /><br /><font color="#0000ff">&quot; automatically save and restore folds</font><br /><font color="#804040"><strong>au</strong></font> <font color="#2e8b57"><strong>BufWinLeave</strong></font> * <font color="#804040"><strong>mkview</strong></font><br /><font color="#804040"><strong>au</strong></font> <font color="#2e8b57"><strong>BufWinEnter</strong></font> * <font color="#804040"><strong>silent</strong></font> <font color="#804040"><strong>loadview</strong></font><br /><br /><font color="#0000ff">&quot; this lets us put the marker in the file so that</font><br /><font color="#0000ff">&quot; it can be shared across and stored in version control.</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">foldmethod</font>=marker<br /><font color="#0000ff">&quot; this is for python, put </font><br /><font color="#0000ff">&quot; # name for the folded text # {{{</font><br /><font color="#0000ff">&quot; to begin marker and </font><br /><font color="#0000ff">&quot; # }}} </font><br /><font color="#0000ff">&quot; close to end it. </font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">commentstring</font>=\ #\ %s<br /><font color="#0000ff">&quot; default fold level, all open, set it 200 or something</font><br /><font color="#0000ff">&quot; to make it all closed. </font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">foldlevel</font>=0<br /><br /><font color="#0000ff">&quot; share clipboard with windows clipboard</font><br /><font color="#804040"><strong>set</strong></font> <font color="#a020f0">clipboard</font>+=unnamed<br /><br /><font color="#0000ff">&quot; set viminfo=&#39;100,f1</font><br /><font color="#0000ff">&quot; minibufexplorer settings:j</font><br /><font color="#804040"><strong>let</strong></font> g:miniBufExplMapWindowNavArrows <font color="#804040"><strong>=</strong></font> <font color="#ff00ff">1</font><br /><font color="#804040"><strong>let</strong></font> g:miniBufExplMapCTabSwitchWindows <font color="#804040"><strong>=</strong></font> <font color="#ff00ff">1</font><br /><br /><font color="#804040"><strong>syntax</strong></font> <font color="#2e8b57"><strong>on</strong></font></p></blockquote><p>Enjoy!&nbsp;</p>